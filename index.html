<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Heartbeat Journal</title>

<style>
body {
    background:#e8e0d5;
    font-family: Georgia, serif;
    margin:0;
    padding:40px;
}

h1 {
    text-align:center;
    font-weight:normal;
    letter-spacing:2px;
}

.container {
    max-width:900px;
    margin:auto;
}

textarea {
    width:100%;
    height:120px;
    padding:15px;
    border:none;
    border-radius:10px;
    font-size:16px;
    margin-bottom:15px;
}

button {
    width:100%;
    padding:14px;
    border:none;
    border-radius:10px;
    background:#cfc4b6;
    font-size:16px;
    cursor:pointer;
}

.entry {
    background:white;
    padding:15px;
    margin-top:15px;
    border-radius:10px;
}
</style>

</head>
<body>

<h1>Heartbeat Journal</h1>

<div class="container">
<textarea id="message" placeholder="Write what's on your heart..."></textarea>
<button onclick="saveEntry()">Save Entry</button>

<div id="entries"></div>
</div>

<!-- Firebase libraries -->
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js"></script>

<script>
// ðŸ”¥ YOU WILL REPLACE THIS CONFIG
const firebaseConfig = {
  apiKey: "PASTE_KEY",
  authDomain: "PASTE_DOMAIN",
  projectId: "PASTE_ID",
};

firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

function saveEntry(){
    let text = document.getElementById("message").value;
    if(text.trim()=="") return;

    db.collection("journal").add({
        message:text,
        date:new Date()
    });

    document.getElementById("message").value="";
}

db.collection("journal")
.orderBy("date")
.onSnapshot(snapshot=>{
    const entries=document.getElementById("entries");
    entries.innerHTML="";
    snapshot.forEach(doc=>{
        let div=document.createElement("div");
        div.className="entry";
        div.textContent=doc.data().message;
        entries.appendChild(div);
    });
});
</script>

</body>
</html>
